\documentclass{42-ru}



%******************************************************************************%
%                                                                              %
%                               Prologue                                       %
%                                                                              %
%******************************************************************************%

\begin{document}
\title{Норма}
\subtitle{Версия 3}

\summary
{
    Данный документ описывает Норму (Norme) - действующий в школе 42 стандарт написания кода.
    Норма по умолчанию применяется ко всем проектам на Си, а также к любому проекту где это указано.
}

\maketitle

\tableofcontents



%******************************************************************************%
%                                                                              %
%                                 Foreword                                     %
%                                                                              %
%******************************************************************************%
\chapter{Предисловие}

    \texttt{norminette} - проект с открытым исходным кодом (Python v3). \\
    Репозиторий доступен по https://github.com/42School/norminette. \\
    Предложения, изменения и любой положительный вклад в проект приветствуются!

   \newpage


%******************************************************************************%
%
%                                   Pedago explanations                        %
%
%******************************************************************************%
    \chapter{Зачем ?}

    The Norm has been carefully crafted to fulfill many pedagogical needs. Here
    are the most important reasons for all the choices below:
    \begin{itemize}

    \item Sequencing: coding implies splitting a big and complex task into a long series
      of elementary instructions. All these instructions will be executed in sequence:
      one after another. A beginner that starts creating software needs a simple and clear
      architecture for their project, with a full understanding of all individual instructions
      and the precise order of execution. Cryptic language syntaxes that do multiple
      instructions apparently at the same time are confusing, functions that try to address
      multiple tasks mixed in the same portion of code are source of errors.\\
      The Norm asks you to create simple pieces of code, where the unique task of each piece
      can be clearly understood and verified, and where the sequence of all the executed
      instructions leaves no doubt. That's why we ask for 25 lines maximum in functions, also why
      \texttt{for}, \texttt{do .. while}, or ternaries are forbidden.

    \item Look and Feel: while exchanging with your friends and workmates during the
      normal peer-learning process, and also during the peer-evaluations, you do not
      want to spend time to decrypt their code, but directly talk about the
      logic of the piece of code.\\
      The Norm asks you to use a specific look and feel, providing instructions for the naming
      of the functions and variables, indentation, brace rules, tab and spaces at many places... .
      This will allow you to smoothly have a look at other's codes that will look familiar,
      and get directly to the point instead of spending time to read the code before understanding it.
      The Norm also comes as a trademark. As part of the 42 community, you will be able to
      recognize code written by another 42 student or alumni when you'll be in the labor market.
    
    \item Long-term vision: making the effort to write understandable code is the
      best way to maintain it. Each time that someone else, including you, has to fix a bug
      or add a new feature they won't have to lose their precious time trying to figure out
      what it does if previously you did things in the right way. This will avoid situations
      where pieces of code stop being maintained just because it is time-consuming, and that
      can make the difference when we talk about having a successful product in the market.
      The sooner you learn to do so, the better.

    \item References: you may think that some, or all, the rules included on the Norm are
      arbitrary, but we actually thought and read about what to do and how to do it. We highly
      encourage you to Google why the functions should be short and just do one thing, why the
      name of the variables should make sense, why lines shouldn't be longer than 80 columns wide,
      why a function should not take many parameters, why comments should be useful, etc, etc, etc...

    \end{itemize}


\newpage

%******************************************************************************%
%                                                                              %
%                                The Norm                                      %
%                                                                              %
%******************************************************************************%
\chapter{Норма}


%******************************************************************************%
%                             Naming conventions                               %
%******************************************************************************%
    \section{Именование}

        \begin{itemize}

            \item Имя структуры (struct) должно начинаться с \texttt{s\_}.

            \item Имя определяемого типа (typedef) должно начинаться с \texttt{t\_}.

            \item Имя объединения (union) должно начинаться с \texttt{u\_}.

            \item Имя перечисления (enum) должно начинаться с \texttt{e\_}.

            \item Имя глобальной переменной должно начинаться с \texttt{g\_}.

            \item Имена переменных и функций состоят только из букв нижнего регистра,
                  цифр и знаков нижнего подчёркивания '\_' (UNIX Case).

            \item Имена файлов и директорий состоят только из букв нижнего регистра,
                  цифр и знаков нижнего подчёркивания '\_' (UNIX Case).

            \item Символы, не являющиеся частью стандарта ASCII, запрещены.

            \item Переменные, функции, идентификаторы должны быть в "змеином" регистре (snake case):
                  никаких заглавных букв, слова разделены нижним подчёркиванием.

            \item Все идентификаторы (функции, макросы, типы, переменные, и т.д.) должны быть на английском.

            \item Объекты (переменные, функции, макросы, типы, файлы/директории) должны иметь осмысленные имена
                  насколько это возможно.

            \item Объявления глобальных переменных, не помеченных как const или static, запрещены.
                  Это считается ошибкой Нормы, только если проект явно не разрешает обратное.

            \item Файл должен компилироваться, иначе он не проходит Норму.
        \end{itemize}
\newpage

%******************************************************************************%
%                                 Formatting                                   %
%******************************************************************************%
    \section{Форматирование}

            \begin{itemize}

                \item Вы обязаны делать отступы/индентацию табуляцией равной 4 (четырём) пробелам.
                    Это не то же самое, что 4 (четыре) обычных пробела - мы говорим именно про табуляцию.

                \item Каждая функция (её тело) не должна превышать 25 строк, не считая её фигурные скобки.

                \item Каждая строка не превышает 80 (восьмидесяти) столбцов, включая комментарии.
                    Внимание: табуляция не считается за столбец, но как число пробелов, которые она представляет.

                \item Каждая функция должна быть отделена новой строкой. Комментарий или директива препроцессора
                    может располагаться прямо (вплотную) над функцией. The newline is after the previous function.

                \item Одна инструкция на строку.

                \item Пустая строка должна быть пустой: ни пробелов, ни табуляций.

                \item Строка никогда не завершается пробелами или табуляцией.

                \item Вы не можете допускать два (и более) последовательных пробела.

                \item После каждой фигурной скобки или управляющей структуры (if, while, ...) должна идти новая строка.

                \item Если это не конец строки, каждая запятая или точка-с-запятой должна "следоваться" пробелом.

                \item Каждый оператор или операнд должен отделяться лишь одним пробелом.

                \item Каждое ключевое слово языка Си должно "следоваться" пробелом, за исключением:
                    1) ключевых слов для типов (int, char, float, и т.д.); 2) оператора sizeof.

                \item Каждое объявление переменной должно "отступаться"/индентироваться согласно её области видимости.

                \item Звёздочка, относящаяся к переменной-указателю, должна "склеиваться" с именем этой переменной.

                \item На одной строке может быть объявлена лишь одна переменная.

                \item Объявление и инициализация на одной строке невозможны, за исключением:
                    1) глобальных переменных (когда позволены); 2) статических переменных; 3) постоянных (констант).

                \item Объявления в функции должны располагаться в её начале.

                \item В функции, объявления переменных отделяются пустой строкой от остальной части функции.
                    Нигде более пустые строки в функции не допускаются.

                \item Множественные присваивания строго запрещены.

                \item Вы можете добавить новую строку после инструкции или управляющей структуры may add a new line after an instruction or
                  control structure, but you'll have to add an
                  indentation with brackets or assignment operator.
                  Operators must be at the beginning of a line.

                \item Управляющие структуры должны иметь фигурные скобки, только если они не состоят из одной строки.

                \item Фигурные скобки после функций, деклараторов или управляющих конструкций должны охватываться символами новой строки.
                    ШТА??????????????????????????????????

            \end{itemize}

            \newpage

            Общий пример:
            \begin{42ccode}
int             g_global;
typedef struct  s_struct
{
    char    *my_string;
    int     i;
}               t_struct;
struct          s_other_struct;

int     main(void)
{
    int     i;
    char    c;

    return (i);
}
            \end{42ccode}
            \newpage

%******************************************************************************%
%                              Function parameters                             %
%******************************************************************************%
    \section{Функции}

        \begin{itemize}

            \item Функция может принимать вплоть до четырёх (4) именнованных параметров.

            \item Функция, не принимающая параметров, должна явно принимать "void" в качестве аргумента.

            \item Параметры в прототипах функций должны быть именованными.

            \item Функции отделяются друг от друга одной пустой строкой.

            \item В функции не может быть объявлено более пяти (5) переменных.

            \item Возвращаемое значение, если имеется, из функции должно быть заключено в скобки. 

            \item Между вовращаемым типом функции и её именем должна быть одна табуляция.

            \begin{42ccode}
int my_func(int arg1, char arg2, char *arg3)
{
    return (my_val);
}

int func2(void)
{
    return ;
}
            \end{42ccode}

        \end{itemize}
        \newpage


%******************************************************************************%
%                        Typedef, struct, enum and union                       %
%******************************************************************************%
    \section{Typedef, struct, enum и union}

        \begin{itemize}

            \item Add a tabulation when declaring a \texttt{struct}, \texttt{enum} or \texttt{union}.

            \item When declaring a variable of type struct, enum or union,
                add a single space in the type.

            \item Правила отступов/индентации при объявлении (typedef) структур, объединений или перечислений должны соблюдаться.

            \item Имени типа, определяемого \texttt{typedef}, должна предшествовать один знак табуляции.

            \item Отступы для всех имён структур должны быть на одном столбце их области видимости.

            \item Структуры не могут быть объявленными в .c файле.

        \end{itemize}
        \newpage


%******************************************************************************%
%                                   Headers                                    %
%******************************************************************************%
    \section{Заголовочные файлы}

        \begin{itemize}

            \item В заголовочных .h файлах разрешаются: включения (#include),
                объявления, определения (#define), прототипы и макросы.

            \item Все включения должны быть в начале заголовочного файла.

            \item Нельзя "подключать" С файлы.

            \item Заголовочные файлы должны быть защищены от двойных включений
                Если файл называется \texttt{ft\_foo.h}, его защищающий макрос - \texttt{FT\_FOO\_H}.

            \item Неиспользуемые заголовочные включения(.h) возбраняются.

            \item Все заголовочные включения в .c или .h файлах должны быть оправданными.

        \end{itemize}

        \begin{42ccode}
#ifndef FT_HEADER_H
# define FT_HEADER_H
# include <stdlib.h>
# include <stdio.h>
# define FOO "bar"

int		g_variable;
struct	s_struct;

#endif
        \end{42ccode}
        \newpage


%******************************************************************************%
%                                 The 42 header                                %
%******************************************************************************%

   \section{Заголовок 42 - "стильное" начало файла}

        \begin{itemize}

        \item Каждый .c и .h файл должен непосредственно начинаться состандартного заголовака 42:
            многострочного комментария особого формата, включающего полезные сведения.
            Стандартный заголовок доступен на компьютерах в кластерах школы для различных
            тестовых редакторов: emacs (\texttt{C-c C-h}), vim (\texttt{:Stdheader} или \texttt{F1}) и т.д.

        \item Заголовок 42 должен содержать: 1) логин и электронную почту создателя файла;
            2) дату и время создания файла, а также логин человека, создавшего его;
            3) дату и время обновления файла, а также логин человека, обновившего его.
            При всяком сохранении файла, сведения должны обновляться автоматически.

        \end{itemize}
        \newpage
        
                
%******************************************************************************%
%                           Macros and Pre-processors                          %
%******************************************************************************%
    \section{Макросы и Препроцессинг}

        \begin{itemize}

            \item Постоянные препроцессора (\#define) должны использоваться
                только для постоянных (constant) и литеральных (literal) значений.

            \item Все \#define определения, созданные для обхода или запутывания Нормы запрещены.
                Эта часть должна проверяться людьми.

            \item Вы можете пользоваться макросами из стандартной библиотеки только если они разрешены в проекте.

            \item Многострочные макросы не допускаются.

            \item Имена макросов записываются только в верхнем регистре.

            \item You must indent characters following \#if, \#ifdef
                or \#ifndef.

        \end{itemize}
        \newpage


%******************************************************************************%
%                              Forbidden stuff!                                %
%******************************************************************************%
    \section{Подзапретное}

        \begin{itemize}

            \item Вам не разрешается использовать:

                \begin{itemize}

                    \item for
                    \item do...while
                    \item switch
                    \item case
                    \item goto

                \end{itemize}

            \item Тернарные/Трёхместные операторы вроде `?`.

            \item VLA - Variable Length Arrays - массивы переменной длины.

            \item Неявный тип в объявлении переменной.

        \end{itemize}
        \begin{42ccode}
    int main(int argc, char **argv)
    {
        int     i;
        char    string[argc]; // This is a VLA

        i = argc > 5 ? 0 : 1 // Ternary
    }
        \end{42ccode}
        \newpage

%******************************************************************************%
%                                   Comments                                   %
%******************************************************************************%
    \section{Комментарии}

        \begin{itemize}

            \item Комментарии не могут находиться в телах функций.

            \item Комментарий должен быть в конце строки или на отдельной строке

            \item Комментарии пишутся только на английском языке.

            \item Комментарий не может оправдать A comment cannot justify a "bastard" function.

        \end{itemize}
        \newpage


%******************************************************************************%
%                                    Files                                     %
%******************************************************************************%
    \section{Файлы}

        \begin{itemize}

            \item Не допускается включать .c файлы в .c файлы.

            \item В .c файле не может быть определено более 5 функций.

        \end{itemize}
        \newpage


%******************************************************************************%
%                                   Makefile                                   %
%******************************************************************************%
    \section{Makefile}

            Makefiles aren't checked by the Norm, and must be checked during evaluation by 
            the student.
            \begin{itemize}

                \item The \$(NAME), clean, fclean, re and all
                  rules are mandatory.

                \item If the makefile relinks, the project will be considered
                  non-functional.

                \item In the case of a multibinary project, in addition to
                  the above rules, you must have a rule that compiles
                  both binaries as well as a specific rule for each
                  binary compiled.

                  \item In the case of a project that calls a function from a non-system library
                  (e.g.: \texttt{libft}), your makefile must compile
                  this library automatically.

                  \item All source files you need to compile your project must
                    be explicitly named in your Makefile.

            \end{itemize}


\end{document}
%******************************************************************************%
